# Options Arbitrage Detector Configuration

# Data Sources
data:
  # Primary data source (yfinance, polygon, alpaca)
  source: "yfinance"
  
  # Tickers to monitor
  tickers:
    - "SPY"
    - "AAPL"
    - "TSLA"
  
  # Update frequency (seconds)
  update_frequency: 60
  
  # Historical data range (days)
  historical_days: 30

# Pricing Models
pricing:
  # Black-Scholes parameters
  black_scholes:
    # Default risk-free rate (will be updated from market data)
    risk_free_rate: 0.05
    
  # Implied volatility calculation
  implied_volatility:
    max_iterations: 100
    tolerance: 1e-6
    initial_guess: 0.3
    
  # Volatility surface
  vol_surface:
    # Interpolation method: linear, cubic, rbf
    interpolation_method: "cubic"
    
    # Smoothing parameter
    smoothing_factor: 0.1
    
    # Model: sabr, svi, heston
    model: "sabr"

# Arbitrage Detection
arbitrage:
  # Minimum profit threshold (in dollars)
  min_profit_threshold: 10.0
  
  # Minimum profit as percentage of notional
  min_profit_percentage: 0.01  # 1%
  
  # Strategy types to monitor
  strategies:
    calendar_spread: true
    butterfly_spread: true
    box_spread: false
    conversion_reversal: true
  
  # Volatility arbitrage
  vol_arbitrage:
    # Min deviation from fitted surface (in vol points)
    min_deviation: 0.02  # 2% vol points
    
    # Min Z-score for outlier detection
    min_zscore: 2.0

# Execution Simulation
execution:
  # Slippage model: fixed, proportional, market_impact
  slippage_model: "proportional"
  
  # Slippage parameters
  slippage:
    fixed_bps: 5  # 5 basis points
    proportional_factor: 0.001  # 0.1%
    
  # Transaction costs
  transaction_costs:
    commission_per_contract: 0.65  # USD per contract
    exchange_fee: 0.10  # USD per contract
    sec_fee: 0.00008  # Per dollar of notional
    
  # Order book simulation
  order_book:
    depth_levels: 5
    default_bid_ask_spread: 0.05  # $0.05
    
  # Position limits
  position_limits:
    max_position_size: 100  # contracts
    max_notional_exposure: 100000  # USD
    max_delta_exposure: 1000  # shares equivalent

# Risk Management
risk:
  # Portfolio Greeks limits
  greeks_limits:
    max_delta: 500
    max_gamma: 100
    max_vega: 1000
    max_theta: -100
    
  # Stop-loss parameters
  stop_loss:
    max_loss_per_trade: 500  # USD
    max_drawdown: 0.10  # 10%
    
  # VaR calculation
  var:
    confidence_level: 0.95
    time_horizon_days: 1

# Database
database:
  # SQLite database path
  path: "data/market_data.db"
  
  # Data retention (days)
  retention_days: 90
  
  # Backup frequency (hours)
  backup_frequency: 24

# Logging
logging:
  # Log level: DEBUG, INFO, WARNING, ERROR, CRITICAL
  level: "INFO"
  
  # Log to file
  log_to_file: true
  
  # Log file path
  log_file: "logs/options_arbitrage.log"
  
  # Rotate logs
  rotate_logs: true
  max_log_size_mb: 10
  backup_count: 5

# Dashboard
dashboard:
  # Port for Streamlit dashboard
  port: 8501
  
  # Auto-refresh interval (seconds)
  refresh_interval: 10
  
  # Theme: light, dark
  theme: "dark"
  
  # Plots to display
  plots:
    vol_surface_3d: true
    pnl_chart: true
    greeks_exposure: true
    signal_history: true

# Backtesting
backtest:
  # Historical period
  start_date: "2023-01-01"
  end_date: "2024-01-01"
  
  # Initial capital
  initial_capital: 100000
  
  # Rebalancing frequency (hours)
  rebalance_frequency: 24
  
  # Performance metrics to calculate
  metrics:
    - "sharpe_ratio"
    - "sortino_ratio"
    - "max_drawdown"
    - "win_rate"
    - "profit_factor"

# Alerts
alerts:
  # Enable email alerts
  email_enabled: false
  email_recipients:
    - "your_email@example.com"
  
  # Alert conditions
  conditions:
    high_profit_opportunity: 100  # USD
    large_position_loss: -500  # USD
    unusual_volatility: 0.5  # 50% spike
    